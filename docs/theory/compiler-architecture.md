# Архитектура компилятора

## Что такое компилятор
**Компилятор** — это программа, которая преобразует исходный код, написанный на языке программирования высокого уровня, в эквивалентный код на низком уровне (например, машинный код или байткод).

---

## Основные компоненты компилятора

1. **Лексический анализатор (Lexer, Scanner)**
    - Делит исходный текст на *лексемы* (токены): ключевые слова, идентификаторы, операторы и т. д.
    - Пример: `int x = 5;` → `int`, `x`, `=`, `5`, `;`

2. **Синтаксический анализатор (Parser)**
    - Проверяет, соответствует ли последовательность токенов грамматике языка.
    - Формирует *синтаксическое дерево* (AST — Abstract Syntax Tree).

3. **Семантический анализатор**
    - Проверяет смысловую корректность программы: типы данных, область видимости, совместимость операций и т. д.

4. **Оптимизатор**
    - Улучшает производительность и эффективность кода без изменения логики программы.
    - Примеры: удаление лишних вычислений, упрощение выражений.

5. **Генератор кода (Code Generator)**
    - Преобразует оптимизированное представление программы в целевой код (машинный или байткод).

6. **Сборщик и компоновщик (Assembler & Linker)**
    - Формируют исполняемый файл, объединяя все модули и библиотеки.

---

## Компилятор vs Интерпретатор

| Критерий | Компилятор | Интерпретатор |
|-----------|-------------|---------------|
| Принцип работы | Переводит весь исходный код в исполняемый файл | Выполняет код построчно |
| Скорость исполнения | Высокая (программа уже переведена) | Ниже (код анализируется при каждом запуске) |
| Отладка | Ошибки видны после компиляции | Ошибки видны сразу при выполнении |
| Примеры языков | C, C++, Rust | Python, JavaScript |

---

## Преимущества компилятора перед интерпретатором

- **Быстрее выполняется** — код заранее переведён в машинный формат.
- **Безопасность кода** — исходники можно не распространять.
- **Оптимизация** — компилятор может улучшать производительность программы.
- **Меньше накладных расходов** при многократных запусках.

---

## Компилятор в машинный код vs в байткод

| Тип компиляции | Описание | Пример |
|----------------|-----------|--------|
| **В машинный код** | Генерирует двоичный код, исполняемый процессором напрямую | C, C++ |
| **В байткод виртуальной машины** | Создаёт промежуточный код, который выполняется на виртуальной машине (JVM, CLR и т. п.) | Java, C#, Kotlin |

**Вывод:**  
Компиляция в машинный код даёт максимальную скорость, а в байткод — кроссплатформенность и удобство отладки.

---

## Пример кода

```
#include <iostream>

int main() 
{
    std::cout << "Hello, world!" << std::endl;
    return 0;
}
```